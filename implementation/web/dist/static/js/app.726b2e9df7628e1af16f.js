webpackJsonp([1],{0:function(e,t){},BGke:function(e,t){},HWwf:function(e,t){},"Lf+K":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n=a("8+8L"),i={name:"Canvas",data:function(){return{canvas:{}}},methods:{updateCanvas:function(e){this.canvas=e}},created:function(){var e=this;T.$on("response",function(t){return e.updateCanvas(t.body.canvas)})}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"canvas"},[t("div",{staticClass:"svg",domProps:{innerHTML:this._s(this.canvas.html)}})])},staticRenderFns:[]};var l=a("VU/8")(i,o,!1,function(e){a("V4Ig")},"data-v-7aee994c",null).exports,r={name:"Connection",props:{baseUrl:String},data:function(){return{projectID:""}},methods:{createCanvas:function(){var e=this;this.$http.get(this.baseUrl+"/test").then(function(t){console.log('GET REQUEST TO URL="'+e.baseUrl+'/test":'),console.log(t),e.projectID=t.body.projectID,T.$emit("response",t)})},postRequest:function(e,t){console.log('POST REQUEST TO URL="'+this.baseUrl+"/"+e+"/"+this.projectID+'":'),console.log("SENDING DATA:"),console.log(t),this.$http.post(this.baseUrl+"/"+e+"/"+this.projectID,t).then(function(e){console.log("DATA RECEIVED:"),console.log(e),T.$emit("response",e)})}},created:function(){var e=this;T.$on("create",function(){return e.createCanvas()}),T.$on("editCanvas",function(t){return e.postRequest("editCanvas",t)}),T.$on("addLayer",function(t){return e.postRequest("addLayer",t)}),T.$on("editLayer",function(t){return e.postRequest("editLayer",t)}),T.$on("deleteLayer",function(t){return e.postRequest("deleteLayer",t)}),T.$on("addShape",function(t){return e.postRequest("addShape",t)}),T.$on("editShape",function(t){return e.postRequest("editShape",t)}),T.$on("transformShape",function(t){return e.postRequest("transformShape",t)}),T.$on("deleteShape",function(t){return e.postRequest("deleteShape",t)})}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"connection"},[t("h1",[this._v("Project "+this._s(this.projectID))])])},staticRenderFns:[]};var d=a("VU/8")(r,c,!1,function(e){a("lNyt")},"data-v-9262aea6",null).exports,u={name:"LayerMenu",data:function(){return{layers:[],selectedLayer:-1,selectedShape:-1}},methods:{layerName:function(e){return-1===e?"Canvas":"Layer "+e},selectLayer:function(e){this.selectedLayer=e,this.selectedShape=-1===e?-1:this.layers[this.selectedLayer].shapes.length-1,this.layersUpdated()},selectShape:function(e){this.selectedShape=e,this.layersUpdated()},toggleVisibility:function(e){this.layers[e].visible=!this.layers[e].visible,this.editLayer(e)},updateLayers:function(e){this.layers=e.layers,T.$emit("canvasUpdated",{width:e.width,height:e.height}),this.layersUpdated()},layersUpdated:function(){T.$emit("layersUpdated",{layers:this.layers,selectedLayer:this.selectedLayer,selectedShape:this.selectedShape})},addLayer:function(){T.$emit("addLayer",{})},editLayer:function(e){T.$emit("editLayer",{layerIndex:e,visible:this.layers[e].visible})},deleteLayer:function(){T.$emit("deleteLayer",{layerIndex:this.selectedLayer})},deleteShape:function(){T.$emit("deleteShape",{layerIndex:this.selectedLayer,shapeIndex:this.selectedShape})}},created:function(){var e=this;T.$on("response",function(t){return e.updateLayers(t.body.canvas)})}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layer-menu-grid"},[a("div",{staticClass:"layer-menu-shapes"},[-1!==e.selectedLayer?a("ul",[e._l(e.layers[e.selectedLayer].shapes,function(t,s){return a("li",{class:{selected:s===e.selectedShape},on:{click:function(t){e.selectShape(s)}}},[e._v("\n        Shape "+e._s(s)+" ("+e._s(t.shapeClass.split(".").reverse()[0])+")\n      ")])}),e._v(" "),-1!==e.selectedShape?a("li",{on:{click:function(t){e.deleteShape()}}},[e._v("\n        - Delete Selected Shape\n      ")]):e._e()],2):e._e()]),e._v(" "),a("div",{staticClass:"layer-menu-layers"},[a("ul",[a("li",{class:{selected:-1===e.selectedLayer},on:{click:function(t){e.selectLayer(-1)}}},[e._v("\n        "+e._s(e.layerName(-1))+"\n      ")]),e._v(" "),e._l(e.layers,function(t,s){return a("li",{class:{selected:s===e.selectedLayer},on:{click:function(t){e.selectLayer(s)}}},[e._v("\n        "+e._s(e.layerName(s))+"\n        "),a("input",{attrs:{type:"checkbox"},domProps:{checked:t.visible},on:{click:function(t){e.toggleVisibility(s)}}})])}),e._v(" "),a("li",{on:{click:function(t){e.addLayer()}}},[e._v("\n        + Add Layer\n      ")]),e._v(" "),-1!==e.selectedLayer?a("li",{on:{click:function(t){e.deleteLayer()}}},[e._v("\n        - Delete Selected Layer\n      ")]):e._e()],2)])])},staticRenderFns:[]};var p=a("VU/8")(u,h,!1,function(e){a("hP3k")},"data-v-6ac127b4",null).exports,v=a("Zx67"),y=a.n(v),f=a("zwoO"),_=a.n(f),m=a("Pf15"),k=a.n(m),g=a("Zrlr"),b=a.n(g),C=function e(t,a,s,n){b()(this,e),this.fillColour={label:"Fill Colour",type:"colour",value:t},this.strokeColour={label:"Stroke Colour",type:"colour",value:a},this.strokeWidth={label:"Stroke Width",type:"simple",value:s},this.opacity={label:"Opacity",type:"simple",value:n}},S=function(e){function t(e,a,s,n,i,o){b()(this,t);var l=_()(this,(t.__proto__||y()(t)).call(this,s,n,i,o));return l.center={label:"Center",type:"coordinate",value:e},l.radius={label:"Radius",type:"simple",value:a},l}return k()(t,e),t}(C),L=function(e){function t(e,a,s,n,i,o,l){b()(this,t);var r=_()(this,(t.__proto__||y()(t)).call(this,a,s,n,i,o,l));return r.edgeAmount={label:"Number of Edges",type:"simple",value:e},r}return k()(t,e),t}(S),x=function(e){function t(e,a,s,n,i,o,l,r){b()(this,t);var c=_()(this,(t.__proto__||y()(t)).call(this,a,s,n,i,o,l,r));return c.radius.label="Outer Radius",c.edgeAmount.label="Number of Outer Corners",c.innerRadius={label:"Inner Radius",type:"simple",value:e},c}return k()(t,e),t}(L),R=function(e){function t(e,a,s,n,i,o,l){b()(this,t);var r=_()(this,(t.__proto__||y()(t)).call(this,n,i,o,l));return r.center={label:"Center",type:"coordinate",value:e},r.radiusX={label:"Radius X",type:"simple",value:a},r.radiusY={label:"Radius Y",type:"simple",value:s},r}return k()(t,e),t}(C),M=function(e){function t(e,a,s,n,i){b()(this,t);var o=_()(this,(t.__proto__||y()(t)).call(this,a,s,n,i));return o.coordinates={label:"Points",type:"coordinateArray",value:e},o}return k()(t,e),t}(C),$=function(e){function t(e,a,s,n,i){return b()(this,t),_()(this,(t.__proto__||y()(t)).call(this,e,a,s,n,i))}return k()(t,e),t}(M),P=function(e){function t(e,a,s,n,i,o,l,r){b()(this,t);var c=_()(this,(t.__proto__||y()(t)).call(this,i,o,l,r));return c.center={label:"Center",type:"coordinate",value:e},c.displayText={label:"Text",type:"simple",value:a},c.font={label:"Font",type:"simple",value:s},c.fontSize={label:"Font Size",type:"simple",value:n},c}return k()(t,e),t}(C),D={name:"ShapeEditForm",data:function(){return{shapeData:null,shapeModel:null,selectedLayer:null,selectedShape:null}},methods:{addVertex:function(e){e.push({x:0,y:0}),this.edit()},removeVertex:function(e,t){e.splice(t,1),this.edit()},edit:function(){-1!==this.selectedLayer?T.$emit("editShape",{layerIndex:this.selectedLayer,shapeIndex:this.selectedShape,shape:this.shapeModel}):T.$emit("editCanvas",{width:this.shapeModel.width,height:this.shapeModel.height})}},created:function(){var e=this;T.$on("setShapeEditForm",function(t){e.shapeData=t.shapeData,e.shapeModel=t.shapeModel,e.selectedLayer=t.selectedLayer,e.selectedShape=t.selectedShape})}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!==e.shapeData&&void 0!==e.shapeData?a("div",{staticClass:"shape-edit-form"},[e._l(e.shapeData,function(t,s){return[a("label",{staticClass:"header-label"},[e._v(e._s(t.label))]),a("br"),e._v(" "),"simple"===t.type?[a("input",{directives:[{name:"model",rawName:"v-model",value:e.shapeModel[s],expression:"shapeModel[key]"}],attrs:{type:"text"},domProps:{value:e.shapeModel[s]},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.edit()},input:function(t){t.target.composing||e.$set(e.shapeModel,s,t.target.value)}}})]:e._e(),e._v(" "),"colour"===t.type?[a("input",{directives:[{name:"model",rawName:"v-model",value:e.shapeModel[s],expression:"shapeModel[key]"}],attrs:{type:"color"},domProps:{value:e.shapeModel[s]},on:{change:function(t){e.edit()},input:function(t){t.target.composing||e.$set(e.shapeModel,s,t.target.value)}}})]:e._e(),e._v(" "),"coordinate"===t.type?[a("label",[e._v("x: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.shapeModel[s].x,expression:"shapeModel[key].x"}],attrs:{type:"text"},domProps:{value:e.shapeModel[s].x},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.edit()},input:function(t){t.target.composing||e.$set(e.shapeModel[s],"x",t.target.value)}}}),a("br"),e._v(" "),a("label",[e._v("y: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.shapeModel[s].y,expression:"shapeModel[key].y"}],attrs:{type:"text"},domProps:{value:e.shapeModel[s].y},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.edit()},input:function(t){t.target.composing||e.$set(e.shapeModel[s],"y",t.target.value)}}})]:e._e(),e._v(" "),"coordinateArray"===t.type?[e._l(t.value,function(t,n){return[a("label",[e._v(e._s(n+1)+" ")]),a("button",{on:{click:function(t){e.removeVertex(e.shapeModel[s],n)}}},[e._v("Remove")]),a("br"),e._v(" "),a("label",[e._v("x: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.shapeModel[s][n].x,expression:"shapeModel[key][index].x"}],attrs:{type:"text"},domProps:{value:e.shapeModel[s][n].x},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.edit()},input:function(t){t.target.composing||e.$set(e.shapeModel[s][n],"x",t.target.value)}}}),a("br"),e._v(" "),a("label",[e._v("y: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.shapeModel[s][n].y,expression:"shapeModel[key][index].y"}],attrs:{type:"text"},domProps:{value:e.shapeModel[s][n].y},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.edit()},input:function(t){t.target.composing||e.$set(e.shapeModel[s][n],"y",t.target.value)}}}),a("br")]}),e._v(" "),a("button",{on:{click:function(t){e.addVertex(e.shapeModel[s])}}},[e._v("Add Point")])]:e._e(),e._v(" "),a("hr")]})],2):e._e()},staticRenderFns:[]};var w={name:"ShapeMenu",components:{ShapeEditForm:a("VU/8")(D,E,!1,function(e){a("BGke")},"data-v-060a0586",null).exports},data:function(){return{canvasData:{width:{label:"Canvas Width",type:"simple",value:""},height:{label:"Canvas Height",type:"simple",value:""}},shapeClass:null,shapeData:null,shapeModel:{},selectedLayer:null,selectedShape:null,shapesRootPackage:"shapes"}},methods:{updateEdit:function(e){if(this.selectedLayer=e.selectedLayer,this.selectedShape=e.selectedShape,-1===this.selectedLayer||-1===this.selectedShape)this.shapeClass=null,this.shapeModel={width:this.canvasData.width.value,height:this.canvasData.height.value},this.shapeData=this.canvasData;else{var t=e.layers[this.selectedLayer].shapes[this.selectedShape];switch(this.shapeModel=t,this.shapeClass=t.shapeClass,this.shapeClass){case this.shapesRootPackage+".Circle":this.shapeData=new S(t.center,t.radius,t.fillColour,t.strokeColour,t.strokeWidth,t.opacity);break;case this.shapesRootPackage+".RegularPolygon":this.shapeData=new L(t.edgeAmount,t.center,t.radius,t.fillColour,t.strokeColour,t.strokeWidth,t.opacity);break;case this.shapesRootPackage+".Star":this.shapeData=new x(t.innerRadius,t.edgeAmount,t.center,t.radius,t.fillColour,t.strokeColour,t.strokeWidth,t.opacity);break;case this.shapesRootPackage+".Ellipse":this.shapeData=new R(t.center,t.radiusX,t.radiusY,t.fillColour,t.strokeColour,t.strokeWidth,t.opacity);break;case this.shapesRootPackage+".Line":this.shapeData=new M(t.coordinates,t.fillColour,t.strokeColour,t.strokeWidth,t.opacity);break;case this.shapesRootPackage+".Polygon":this.shapeData=new $(t.coordinates,t.fillColour,t.strokeColour,t.strokeWidth,t.opacity);break;case this.shapesRootPackage+".Text":this.shapeData=new P(t.center,t.displayText,t.font,t.fontSize,t.fillColour,t.strokeColour,t.strokeWidth,t.opacity);break;default:console.log("Unexpected Type")}}T.$emit("setShapeEditForm",{shapeData:this.shapeData,shapeModel:this.shapeModel,selectedLayer:this.selectedLayer,selectedShape:this.selectedShape})},updateCanvasVars:function(e){this.canvasData.width={label:"Canvas Width",type:"simple",value:e.width},this.canvasData.height={label:"Canvas Height",type:"simple",value:e.height}},addShape:function(e){T.$emit("addShape",{layerIndex:this.selectedLayer,shapeClass:e})}},created:function(){var e=this;T.$on("layersUpdated",function(t){return e.updateEdit(t)}),T.$on("canvasUpdated",function(t){return e.updateCanvasVars(t)})}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shape-menu-grid"},[a("div",{staticClass:"shape-menu-edit"},[a("ShapeEditForm")],1),e._v(" "),a("div",{staticClass:"shape-menu-shapes"},[-1!==e.selectedLayer?a("ul",[a("li",{on:{click:function(t){e.addShape(e.shapesRootPackage+".Line")}}},[e._v("\n        + Add Line\n      ")]),e._v(" "),a("li",{on:{click:function(t){e.addShape(e.shapesRootPackage+".Circle")}}},[e._v("\n        + Add Circle\n      ")]),e._v(" "),a("li",{on:{click:function(t){e.addShape(e.shapesRootPackage+".Polygon")}}},[e._v("\n        + Add Polygon\n      ")]),e._v(" "),a("li",{on:{click:function(t){e.addShape(e.shapesRootPackage+".RegularPolygon")}}},[e._v("\n        + Add Regular Polygon\n      ")]),e._v(" "),a("li",{on:{click:function(t){e.addShape(e.shapesRootPackage+".Ellipse")}}},[e._v("\n        + Add Ellipse\n      ")]),e._v(" "),a("li",{on:{click:function(t){e.addShape(e.shapesRootPackage+".Star")}}},[e._v("\n        + Add Star\n      ")]),e._v(" "),a("li",{on:{click:function(t){e.addShape(e.shapesRootPackage+".Text")}}},[e._v("\n        + Add Text\n      ")])]):e._e()])])},staticRenderFns:[]};var A={name:"App",components:{ShapeMenu:a("VU/8")(w,U,!1,function(e){a("HWwf")},"data-v-e0659912",null).exports,Canvas:l,Connection:d,LayerMenu:p},mounted:function(){T.$emit("create")}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Connection",{attrs:{"base-url":"http://localhost:8080"}}),this._v(" "),t("div",{staticClass:"app-grid"},[t("div",{attrs:{id:"layer-menu"}},[t("LayerMenu")],1),this._v(" "),t("div",{attrs:{id:"canvas"}},[t("Canvas")],1),this._v(" "),t("div",{attrs:{id:"shape-menu"}},[t("ShapeMenu")],1)])],1)},staticRenderFns:[]};var N=a("VU/8")(A,I,!1,function(e){a("Lf+K")},null,null).exports;a.d(t,"dataBus",function(){return T}),s.a.use(n.a),s.a.config.productionTip=!1;var T=new s.a;new s.a({el:"#app",components:{App:N},template:"<App/>"})},V4Ig:function(e,t){},hP3k:function(e,t){},lNyt:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.726b2e9df7628e1af16f.js.map